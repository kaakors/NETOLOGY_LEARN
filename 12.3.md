# Домашнее задание к занятию "Запуск приложений в K8S"

### Цель задания

В тестовой среде для работы с Kubernetes, установленной в предыдущем ДЗ, необходимо развернуть Deployment с приложением, состоящим из нескольких контейнеров и масштабировать его.

------

### Чеклист готовности к домашнему заданию

1. Установленное k8s-решение (например, MicroK8S)
2. Установленный локальный kubectl
3. Редактор YAML-файлов с подключенным git-репозиторием

------

### Инструменты/ дополнительные материалы, которые пригодятся для выполнения задания

1. [Описание](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/) Deployment и примеры манифестов
2. [Описание](https://kubernetes.io/docs/concepts/workloads/pods/init-containers/) Init-контейнеров
3. [Описание](https://github.com/wbitt/Network-MultiTool) Multitool

------

### Задание 1. Создать Deployment и обеспечить доступ к репликам приложения из другого Pod'а

1. Создать Deployment приложения состоящего из двух контейнеров - nginx и multitool. Решить возникшую ошибку

<img width="776" alt="Снимок экрана 2023-03-11 в 21 30 19" src="https://user-images.githubusercontent.com/99620296/224505600-13badb62-d52a-4cbc-b9e7-63a98e94d1f8.png">

3. После запуска увеличить кол-во реплик работающего приложения до 2
4. Продемонстрировать кол-во подов до и после масштабирования

<img width="844" alt="Снимок экрана 2023-03-11 в 21 30 29" src="https://user-images.githubusercontent.com/99620296/224505639-2fcd23ee-1c3f-42fc-baf8-d773fdd41826.png">

6. Создать Service, который обеспечит доступ до реплик приложений из п.1

<img width="669" alt="Снимок экрана 2023-03-11 в 21 32 59" src="https://user-images.githubusercontent.com/99620296/224505684-d6b54d21-11fa-4ec8-81ff-de676d59fed8.png">

8. Создать отдельный Pod с приложением multitool и убедиться с помощью `curl` что из пода есть доступ до приложений из п.1

------

### Задание 2. Создать Deployment и обеспечить старт основного контейнера при выполнении условий

1. Создать Deployment приложения nginx и обеспечить старт контейнера только после того, как будет запущен сервис этого приложения



3. Убедиться, что nginx не стартует. В качестве init-контейнера взять busybox
4. Создать и запустить Service. Убедиться, что nginx запустился
5. Продемонстрировать состояние пода до и после запуска сервиса

------

### Правила приема работы

1. Домашняя работа оформляется в своем Git репозитории в файле README.md. Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
2. Файл README.md должен содержать скриншоты вывода необходимых команд `kubectl`, а также скриншоты результатов
3. Репозиторий должен содержать файлы манифестов и ссылки на них в файле README.md

------
